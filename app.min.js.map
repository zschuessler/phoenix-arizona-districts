{"version":3,"sources":["webpack:///app.min.js","webpack:///webpack/bootstrap 7c362d7d6cf511f48272","webpack:///./assets/js/app.js","webpack:///./assets/js/search-box.js"],"names":["App","modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","this","geojsonFilePath","Map","InfoWindow","dom","$mapWrapper","$","jQuery","SearchBox","prototype","loadGeoJson","xhr","XMLHttpRequest","open","self","onload","featureCollectionJson","JSON","parse","responseText","features","forEach","district","data","addGeoJson","setStyle","feature","fillColor","getProperty","fillOpacity","strokeColor","strokeOpacity","strokeWeight","zIndex","createDistrictLabels","createSearchBox","send","init","labelLatLng","latLng","google","maps","LatLng","mapLabel","MapLabel","position","lat","lng","text","map","fontSize","set","bind","setProperty","key","value","onDistrictClicked","event","popupHtml","setContent","setPosition","setOptions","pixelOffset","Size","getGoogleMapConfig","disableDefaultUI","center","zoom","styles","featureType","stylers","saturation","elementType","hue","visibility","config","console","error","$searchInput","$notFoundAlert","SearchAutoComplete","addListenerOnce","createAutocomplete","registerEvents","places","bounds","getBounds","fitBounds","addListener","setBounds","onPlacesChanged","document","on","css","getPlaces","Array","isArray","length","foundDistrict","location","geometry","districtFeature","log","featureGeom","getGeometry","getType","polygon","getAt","getArray","checkPolygonIntersection","multiPolygon","trigger","point","geometryPaths","polyX","Polygon","paths","poly","containsLocation"],"mappings":"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","file":"app.min.js","sourcesContent":["var App =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar $ = jQuery;\n\tvar SearchBox = __webpack_require__(1);\n\t\n\tfunction App() {\n\t    this.geojsonFilePath = '/assets/geometry/council-districts.json';\n\t    this.Map = null;\n\t    this.InfoWindow = null;\n\t\n\t    this.dom = {\n\t        $mapWrapper: $('.map-wrapper')\n\t    };\n\t}\n\t\n\tApp.prototype.loadGeoJson = function() {\n\t    var xhr = new XMLHttpRequest();\n\t    xhr.open('GET', this.geojsonFilePath, true);\n\t    var self = this;\n\t    xhr.onload = function() {\n\t        var featureCollectionJson = JSON.parse(this.responseText).features;\n\t        featureCollectionJson.forEach(function(district) {\n\t            self.Map.data.addGeoJson(district);\n\t\n\t            self.Map.data.setStyle(function(feature) {\n\t                return {\n\t                    fillColor: feature.getProperty('fill_color'),\n\t                    fillOpacity: 0.5,\n\t                    strokeColor: 'white',\n\t                    strokeOpacity: 0.9,\n\t                    strokeWeight: 2.5,\n\t                    zIndex: 11\n\t                };\n\t            });\n\t        });\n\t        self.createDistrictLabels();\n\t        self.createSearchBox();\n\t    };\n\t    xhr.send();\n\t};\n\t\n\tApp.prototype.createSearchBox = function() {\n\t    this.SearchBox = new SearchBox({\n\t        Map: this.Map\n\t    });\n\t\n\t    this.SearchBox.init();\n\t};\n\t\n\tApp.prototype.createDistrictLabels = function() {\n\t    this.Map.data.forEach(function(feature) {\n\t        var labelLatLng = feature.getProperty('label_latlng');\n\t        var latLng = new google.maps.LatLng(labelLatLng[0], labelLatLng[1]);\n\t        var mapLabel = new MapLabel({\n\t            position: {lat: labelLatLng[0], lng: labelLatLng[1]},\n\t            text: feature.getProperty('district_id'),\n\t            map: this.Map,\n\t            fontSize: 15,\n\t            strokeWeight: 4\n\t        });\n\t        mapLabel.set('position', latLng);\n\t    }.bind(this));\n\t\n\t    return this;\n\t};\n\t\n\tApp.prototype.setProperty = function(key, value) {\n\t    this[key] = value;\n\t\n\t    return this;\n\t};\n\t\n\tApp.prototype.onDistrictClicked = function(event) {\n\t    var popupHtml = event.feature.getProperty('representative');\n\t    \n\t    this.InfoWindow.setContent('<div style=\"width:150px; text-align: center;\">' + popupHtml + '</div>');\n\t    this.InfoWindow.setPosition(event.latLng);\n\t    this.InfoWindow.setOptions({pixelOffset: new google.maps.Size(0,-30)});\n\t    this.InfoWindow.open(this.Map);\n\t}\n\t\n\tApp.prototype.getGoogleMapConfig = function () {\n\t    return {\n\t        disableDefaultUI: true,\n\t        // Phoenix center\n\t        center: {lat: 33.59148994725138, lng: -112.05343763476559},\n\t        zoom: 10,\n\t        styles: [\n\t            {\n\t                featureType: 'all',\n\t                stylers: [\n\t                    {saturation: -80}\n\t                ]\n\t            }, {\n\t                featureType: 'road.arterial',\n\t                elementType: 'geometry',\n\t                stylers: [\n\t                    {hue: '#00ffee'},\n\t                    {saturation: 50}\n\t                ]\n\t            }, {\n\t                featureType: 'poi.business',\n\t                elementType: 'labels',\n\t                stylers: [\n\t                    {visibility: 'off'}\n\t                ]\n\t            }]\n\t    };\n\t};\n\t\n\tmodule.exports = new App;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tvar $ = jQuery;\n\t\n\tfunction SearchBox(config) {\n\t    config = config || {};\n\t\n\t    if (!config.Map) {\n\t        console.error('Google Map object by name of \"Map\" is required for this module.');\n\t    }\n\t\n\t    this.dom = {\n\t        $searchInput: $('.address-input'),\n\t        $notFoundAlert: $('.alert-districtNotFound')\n\t    };\n\t    this.SearchAutoComplete = null;\n\t    this.Map = config.Map;\n\t}\n\t\n\tSearchBox.prototype.init = function() {\n\t    google.maps.event.addListenerOnce(this.Map, 'bounds_changed', function(){\n\t        this.createAutocomplete()\n\t            .registerEvents();\n\t    }.bind(this));\n\t};\n\t\n\tSearchBox.prototype.createAutocomplete = function() {\n\t    this.SearchAutoComplete = new google.maps.places.SearchBox(\n\t        this.dom.$searchInput[0],\n\t        {\n\t            map: this.Map,\n\t            bounds: this.Map.getBounds()\n\t        }\n\t    );\n\t\n\t    return this;\n\t};\n\t\n\tSearchBox.prototype.registerEvents = function() {\n\t    // Map idle\n\t    google.maps.event.addListenerOnce(this.Map, 'idle', function(){\n\t        this.Map.fitBounds(this.Map.getBounds());\n\t    }.bind(this));\n\t\n\t    // Map bounds changed\n\t    this.Map.addListener('bounds_changed', function() {\n\t        this.SearchAutoComplete.setBounds(this.Map.getBounds());\n\t    }.bind(this));\n\t\n\t    // Autocomplete selection\n\t    this.SearchAutoComplete.addListener('places_changed', this.onPlacesChanged)\n\t\n\t    // Autocomplete: District found\n\t    $(document).on('district_found', function() {\n\t        this.dom.$notFoundAlert.css('display', 'block');\n\t    }.bind(this));\n\t\n\t    // Autocomplete: District not found\n\t    $(document).on('district_notFound', function() {\n\t        this.dom.$notFoundAlert.css('display', 'none');\n\t    }.bind(this));\n\t}\n\t\n\tSearchBox.prototype.onPlacesChanged = function() {\n\t    var places = this.SearchAutoComplete.getPlaces();\n\t\n\t    // require valid result\n\t    if (!Array.isArray(places) || !places.length) {\n\t        return;\n\t    }\n\t\n\t    var location = places[0].geometry.location;\n\t    var foundDistrict;\n\t\n\t    // find if intersects\n\t    this.Map.data.forEach(function(districtFeature) {\n\t        console.log(this)\n\t        var featureGeom = districtFeature.getGeometry();\n\t\n\t        if ('Polygon' === featureGeom.getType()) {\n\t            var polygon = featureGeom.getAt(0).getArray();\n\t            if (SearchBox.checkPolygonIntersection(location, polygon)) {\n\t                foundDistrict = districtFeature;\n\t            }\n\t        } else if ('MultiPolygon' === featureGeom.getType()) {\n\t            var multiPolygon = featureGeom.getArray();\n\t            multiPolygon.forEach(function(multiPolygon) {\n\t                var polygon = multiPolygon.getAt(0).getArray();\n\t                if (SearchBox.checkPolygonIntersection(location, polygon)) {\n\t                    foundDistrict = districtFeature;\n\t                }\n\t            });\n\t        }\n\t    });\n\t\n\t    if (!foundDistrict) {\n\t        $(document).trigger('district_found');\n\t    } else {\n\t        $(document).trigger('district_notFound')\n\t    }\n\t\n\t};\n\t\n\tSearchBox.prototype.checkPolygonIntersection = function(point, geometryPaths) {\n\t    var polyX = new google.maps.Polygon({\n\t        paths: geometryPaths\n\t    });\n\t    return google.maps.geometry.poly.containsLocation(point, polyX);\n\t};\n\t\n\tmodule.exports = SearchBox;\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** app.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7c362d7d6cf511f48272\n **/","var $ = jQuery;\nvar SearchBox = require('./search-box');\n\nfunction App() {\n    this.geojsonFilePath = '/assets/geometry/council-districts.json';\n    this.Map = null;\n    this.InfoWindow = null;\n\n    this.dom = {\n        $mapWrapper: $('.map-wrapper')\n    };\n}\n\nApp.prototype.loadGeoJson = function() {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', this.geojsonFilePath, true);\n    var self = this;\n    xhr.onload = function() {\n        var featureCollectionJson = JSON.parse(this.responseText).features;\n        featureCollectionJson.forEach(function(district) {\n            self.Map.data.addGeoJson(district);\n\n            self.Map.data.setStyle(function(feature) {\n                return {\n                    fillColor: feature.getProperty('fill_color'),\n                    fillOpacity: 0.5,\n                    strokeColor: 'white',\n                    strokeOpacity: 0.9,\n                    strokeWeight: 2.5,\n                    zIndex: 11\n                };\n            });\n        });\n        self.createDistrictLabels();\n        self.createSearchBox();\n    };\n    xhr.send();\n};\n\nApp.prototype.createSearchBox = function() {\n    this.SearchBox = new SearchBox({\n        Map: this.Map\n    });\n\n    this.SearchBox.init();\n};\n\nApp.prototype.createDistrictLabels = function() {\n    this.Map.data.forEach(function(feature) {\n        var labelLatLng = feature.getProperty('label_latlng');\n        var latLng = new google.maps.LatLng(labelLatLng[0], labelLatLng[1]);\n        var mapLabel = new MapLabel({\n            position: {lat: labelLatLng[0], lng: labelLatLng[1]},\n            text: feature.getProperty('district_id'),\n            map: this.Map,\n            fontSize: 15,\n            strokeWeight: 4\n        });\n        mapLabel.set('position', latLng);\n    }.bind(this));\n\n    return this;\n};\n\nApp.prototype.setProperty = function(key, value) {\n    this[key] = value;\n\n    return this;\n};\n\nApp.prototype.onDistrictClicked = function(event) {\n    var popupHtml = event.feature.getProperty('representative');\n    \n    this.InfoWindow.setContent('<div style=\"width:150px; text-align: center;\">' + popupHtml + '</div>');\n    this.InfoWindow.setPosition(event.latLng);\n    this.InfoWindow.setOptions({pixelOffset: new google.maps.Size(0,-30)});\n    this.InfoWindow.open(this.Map);\n}\n\nApp.prototype.getGoogleMapConfig = function () {\n    return {\n        disableDefaultUI: true,\n        // Phoenix center\n        center: {lat: 33.59148994725138, lng: -112.05343763476559},\n        zoom: 10,\n        styles: [\n            {\n                featureType: 'all',\n                stylers: [\n                    {saturation: -80}\n                ]\n            }, {\n                featureType: 'road.arterial',\n                elementType: 'geometry',\n                stylers: [\n                    {hue: '#00ffee'},\n                    {saturation: 50}\n                ]\n            }, {\n                featureType: 'poi.business',\n                elementType: 'labels',\n                stylers: [\n                    {visibility: 'off'}\n                ]\n            }]\n    };\n};\n\nmodule.exports = new App;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/js/app.js\n ** module id = 0\n ** module chunks = 0\n **/","var $ = jQuery;\n\nfunction SearchBox(config) {\n    config = config || {};\n\n    if (!config.Map) {\n        console.error('Google Map object by name of \"Map\" is required for this module.');\n    }\n\n    this.dom = {\n        $searchInput: $('.address-input'),\n        $notFoundAlert: $('.alert-districtNotFound')\n    };\n    this.SearchAutoComplete = null;\n    this.Map = config.Map;\n}\n\nSearchBox.prototype.init = function() {\n    google.maps.event.addListenerOnce(this.Map, 'bounds_changed', function(){\n        this.createAutocomplete()\n            .registerEvents();\n    }.bind(this));\n};\n\nSearchBox.prototype.createAutocomplete = function() {\n    this.SearchAutoComplete = new google.maps.places.SearchBox(\n        this.dom.$searchInput[0],\n        {\n            map: this.Map,\n            bounds: this.Map.getBounds()\n        }\n    );\n\n    return this;\n};\n\nSearchBox.prototype.registerEvents = function() {\n    // Map idle\n    google.maps.event.addListenerOnce(this.Map, 'idle', function(){\n        this.Map.fitBounds(this.Map.getBounds());\n    }.bind(this));\n\n    // Map bounds changed\n    this.Map.addListener('bounds_changed', function() {\n        this.SearchAutoComplete.setBounds(this.Map.getBounds());\n    }.bind(this));\n\n    // Autocomplete selection\n    this.SearchAutoComplete.addListener('places_changed', this.onPlacesChanged)\n\n    // Autocomplete: District found\n    $(document).on('district_found', function() {\n        this.dom.$notFoundAlert.css('display', 'block');\n    }.bind(this));\n\n    // Autocomplete: District not found\n    $(document).on('district_notFound', function() {\n        this.dom.$notFoundAlert.css('display', 'none');\n    }.bind(this));\n}\n\nSearchBox.prototype.onPlacesChanged = function() {\n    var places = this.SearchAutoComplete.getPlaces();\n\n    // require valid result\n    if (!Array.isArray(places) || !places.length) {\n        return;\n    }\n\n    var location = places[0].geometry.location;\n    var foundDistrict;\n\n    // find if intersects\n    this.Map.data.forEach(function(districtFeature) {\n        console.log(this)\n        var featureGeom = districtFeature.getGeometry();\n\n        if ('Polygon' === featureGeom.getType()) {\n            var polygon = featureGeom.getAt(0).getArray();\n            if (SearchBox.checkPolygonIntersection(location, polygon)) {\n                foundDistrict = districtFeature;\n            }\n        } else if ('MultiPolygon' === featureGeom.getType()) {\n            var multiPolygon = featureGeom.getArray();\n            multiPolygon.forEach(function(multiPolygon) {\n                var polygon = multiPolygon.getAt(0).getArray();\n                if (SearchBox.checkPolygonIntersection(location, polygon)) {\n                    foundDistrict = districtFeature;\n                }\n            });\n        }\n    });\n\n    if (!foundDistrict) {\n        $(document).trigger('district_found');\n    } else {\n        $(document).trigger('district_notFound')\n    }\n\n};\n\nSearchBox.prototype.checkPolygonIntersection = function(point, geometryPaths) {\n    var polyX = new google.maps.Polygon({\n        paths: geometryPaths\n    });\n    return google.maps.geometry.poly.containsLocation(point, polyX);\n};\n\nmodule.exports = SearchBox;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/js/search-box.js\n ** module id = 1\n ** module chunks = 0\n **/"],"sourceRoot":""}