var App=function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){function n(){this.geojsonFilePath="/assets/geometry/council-districts.json",this.Map=null,this.InfoWindow=null,this.dom={$mapWrapper:i(".map-wrapper")}}var i=jQuery,r=o(1);n.prototype.loadGeoJson=function(){var t=new XMLHttpRequest;t.open("GET",this.geojsonFilePath,!0);var e=this;t.onload=function(){var t=JSON.parse(this.responseText).features;t.forEach(function(t){e.Map.data.addGeoJson(t),e.Map.data.setStyle(function(t){return{fillColor:t.getProperty("fill_color"),fillOpacity:.5,strokeColor:"white",strokeOpacity:.9,strokeWeight:2.5,zIndex:11}})}),e.createDistrictLabels(),e.createSearchBox()},t.send()},n.prototype.createSearchBox=function(){this.SearchBox=new r({Map:this.Map}),this.SearchBox.init()},n.prototype.createDistrictLabels=function(){return this.Map.data.forEach(function(t){var e=t.getProperty("label_latlng"),o=new google.maps.LatLng(e[0],e[1]),n=new MapLabel({position:{lat:e[0],lng:e[1]},text:t.getProperty("district_id"),map:this.Map,fontSize:15,strokeWeight:4});n.set("position",o)}.bind(this)),this},n.prototype.setProperty=function(t,e){return this[t]=e,this},n.prototype.onDistrictClicked=function(t){var e=t.feature.getProperty("representative");this.InfoWindow.setContent('<div style="width:150px; text-align: center;">'+e+"</div>"),this.InfoWindow.setPosition(t.latLng),this.InfoWindow.setOptions({pixelOffset:new google.maps.Size(0,(-30))}),this.InfoWindow.open(this.Map)},n.prototype.getGoogleMapConfig=function(){return{disableDefaultUI:!0,center:{lat:33.59148994725138,lng:-112.05343763476559},zoom:10,styles:[{featureType:"all",stylers:[{saturation:-80}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{hue:"#00ffee"},{saturation:50}]},{featureType:"poi.business",elementType:"labels",stylers:[{visibility:"off"}]}]}},t.exports=new n},function(t,e){function o(t){t=t||{},t.Map||console.error('Google Map object by name of "Map" is required for this module.'),this.dom={$searchInput:n(".address-input"),$notFoundAlert:n(".alert-districtNotFound")},this.SearchAutoComplete=null,this.Map=t.Map}var n=jQuery;o.prototype.init=function(){google.maps.event.addListenerOnce(this.Map,"bounds_changed",function(){this.createAutocomplete().registerEvents()}.bind(this))},o.prototype.createAutocomplete=function(){return this.SearchAutoComplete=new google.maps.places.SearchBox(this.dom.$searchInput[0],{map:this.Map,bounds:this.Map.getBounds()}),this},o.prototype.registerEvents=function(){google.maps.event.addListenerOnce(this.Map,"idle",function(){this.Map.fitBounds(this.Map.getBounds())}.bind(this)),this.Map.addListener("bounds_changed",function(){this.SearchAutoComplete.setBounds(this.Map.getBounds())}.bind(this)),this.SearchAutoComplete.addListener("places_changed",this.onPlacesChanged),n(document).on("district_found",function(){this.dom.$notFoundAlert.css("display","block")}.bind(this)),n(document).on("district_notFound",function(){this.dom.$notFoundAlert.css("display","none")}.bind(this))},o.prototype.onPlacesChanged=function(){var t=this.SearchAutoComplete.getPlaces();if(Array.isArray(t)&&t.length){var e,i=t[0].geometry.location;this.Map.data.forEach(function(t){console.log(this);var n=t.getGeometry();if("Polygon"===n.getType()){var r=n.getAt(0).getArray();o.checkPolygonIntersection(i,r)&&(e=t)}else if("MultiPolygon"===n.getType()){var s=n.getArray();s.forEach(function(n){var r=n.getAt(0).getArray();o.checkPolygonIntersection(i,r)&&(e=t)})}}),e?n(document).trigger("district_notFound"):n(document).trigger("district_found")}},o.prototype.checkPolygonIntersection=function(t,e){var o=new google.maps.Polygon({paths:e});return google.maps.geometry.poly.containsLocation(t,o)},t.exports=o}]);
//# sourceMappingURL=app.min.js.map